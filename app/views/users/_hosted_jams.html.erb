<% if @hosted_jams.size > 0 %>
  <% @hosted_jams.each do |jam| %>
    <div class="user-jam-card">
      <%= cl_image_tag jam.photo, height: 170, width: 170, gravity: "auto", crop:"fill", class: "user-jam-photo-clipped" %>
    <div class='user-jam-title'>
      <h1><%= jam.title %></h1>
    </div>
    <div class='user-jam-card-datetime'>
      <p><i class="fa fa-calendar-alt"></i> <%= jam.date.strftime("%e %b %Y") %></p>
      <p><i class="far fa-clock"></i> <%= jam.time.strftime("%l:%M %p") %></p>
    </div>
    <div class='user-jam-slots text-left'>
      <% jam.slots.each do |slot| %>
      <% if slot.instrument.name == 'Lead Guitar' %>
      <%= image_tag("guitar.svg", size: "20x20") %> <span class="user-jam-slot-info"><strong><%= slot.instrument.name %></strong> |</span> <% if slot.user == nil %>
      <span class="user-available-slot"><%= link_to "Available", new_slot_request_path(slot) %></span> <% else %> <span class="user-jam-slot-info">
        <% if jam.user == slot.user %>
        <i class="fas fa-crown"></i>
        <% end %>
        <%= link_to user_path(slot.user) do %>
        <%= slot.user.first_name %> <%= slot.user.last_name %>
        <% end %>
      </span> <% end %> <br>
      <% elsif slot.instrument.name == 'Bass Guitar' %>
      <%= image_tag("bass.svg", size: "20x20") %> <span class="user-jam-slot-info"><strong><%= slot.instrument.name %></strong> |</span> <% if slot.user == nil %>
      <span class="user-available-slot"><%= link_to "Available", new_slot_request_path(slot) %></span> <% else %> <span class="user-jam-slot-info">
        <% if jam.user == slot.user %>
        <i class="fas fa-crown"></i>
        <% end %>
        <%= link_to user_path(slot.user) do %>
        <%= slot.user.first_name %> <%= slot.user.last_name %>
        <% end %>
      </span> <% end %> <br>
      <% elsif slot.instrument.name == 'Vocals' %>
      <%= image_tag("mic.svg", size: "20x20") %> <span class="user-jam-slot-info"><strong><%= slot.instrument.name %></strong> |</span> <% if slot.user == nil %>
      <span class="user-available-slot"><%= link_to "Available", new_slot_request_path(slot) %></span> <% else %> <span class="user-jam-slot-info">
        <% if jam.user == slot.user %>
        <i class="fas fa-crown"></i>
        <% end %>
        <%= link_to user_path(slot.user) do %>
        <%= slot.user.first_name %> <%= slot.user.last_name %>
        <% end %>
      </span> <% end %> <br>
      <% elsif slot.instrument.name == 'Drums' %>
      <%= image_tag("drum.svg", size: "20x20") %> <span class="user-jam-slot-info"><strong><%= slot.instrument.name %></strong> |</span> <% if slot.user == nil %>
      <span class="user-available-slot"><%= link_to "Available", new_slot_request_path(slot) %></span> <% else %> <span class="user-jam-slot-info">
        <% if jam.user == slot.user %>
        <i class="fas fa-crown"></i>
        <% end %>
        <%= link_to user_path(slot.user) do %>
        <%= slot.user.first_name %> <%= slot.user.last_name %>
        <% end %>
      </span> <% end %> <br>
      <% elsif slot.instrument.name == 'Keys' %>
      <%= image_tag("piano.svg", size: "20x20") %> <span class="user-jam-slot-info"><strong><%= slot.instrument.name %></strong> |</span> <% if slot.user == nil %>
      <span class="user-jam-slot-info"><%= link_to "Available", new_slot_request_path(slot) %></span> <% else %> <span class="user-jam-slot-info">
        <% if jam.user == slot.user %>
        <i class="fas fa-crown"></i>
        <% end %>
        <%= link_to user_path(slot.user) do %>
        <%= slot.user.first_name %> <%= slot.user.last_name %>
        <% end %>
      </span> <% end %> <br>
      <% end  %>
      <% end %>
    </div>
    <div class="user-jam-card-footer">
      <div class='user-jam-location'>
        <h3><i class="fas fa-map-marker-alt"></i> <%= jam.location %></h3>
      </div>
      <div class='user-jam-info'>
        <%= link_to 'More info', jam_path(jam), class: "user-more-info-button" %>
      </div>
    </div>
    </div>
  <% end %>
<% end %>
